<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è­·ç†æ³•å¾‹è²¬ä»»åœ˜é«”ç«¶è³½</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', 'Arial', sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #7e22ce 50%, #312e81 100%);
            min-height: 100vh;
            padding: 20px;
            color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 3rem;
            font-weight: bold;
            color: #fbbf24;
            margin-bottom: 10px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
        }

        h2 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        /* Buttons */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }

        .btn-reset {
            background: #ef4444;
            color: white;
        }

        .btn-reset:hover {
            background: #dc2626;
            transform: scale(1.05);
        }

        /* Teams Section */
        .teams-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .team-card {
            background: #1e40af;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .team-name {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            padding: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 6px;
            cursor: pointer;
        }

        .team-score {
            font-size: 2rem;
            font-weight: bold;
            color: #fbbf24;
            margin: 10px 0;
        }

        .score-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 10px;
        }

        .btn-score {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-plus {
            background: #10b981;
            color: white;
        }

        .btn-minus {
            background: #ef4444;
            color: white;
        }

        .btn-score:hover {
            transform: scale(1.1);
        }

        /* Game Board */
        .game-board {
            background: #1e40af;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }

        .category-header {
            background: #1e3a8a;
            padding: 15px;
            text-align: center;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.1rem;
            color: #fbbf24;
            border: 2px solid #fbbf24;
        }

        .question-cell {
            background: linear-gradient(145deg, #3b82f6, #2563eb);
            padding: 30px;
            text-align: center;
            border-radius: 8px;
            font-size: 2rem;
            font-weight: bold;
            color: #fbbf24;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #fbbf24;
        }

        .question-cell:hover {
            transform: scale(1.05);
            background: linear-gradient(145deg, #2563eb, #1e40af);
        }

        .question-cell.answered {
            background: #374151;
            color: #6b7280;
            cursor: not-allowed;
            border-color: #6b7280;
        }

        .question-cell.answered:hover {
            transform: none;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: #1e40af;
            border-radius: 15px;
            padding: 40px;
            max-width: 900px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .current-team-badge {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-title {
            color: #fbbf24;
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-box {
            background: #1e3a8a;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .question-text {
            font-size: 1.5rem;
            line-height: 1.6;
        }

        .answer-box {
            background: #065f46;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .answer-label {
            color: #fbbf24;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .answer-text {
            font-size: 1.2rem;
            line-height: 1.6;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-show-answer {
            background: #fbbf24;
            color: #1e3a8a;
        }

        .btn-correct {
            background: #10b981;
            color: white;
        }

        .btn-incorrect {
            background: #ef4444;
            color: white;
        }

        .btn-cancel, .btn-skip {
            background: #6b7280;
            color: white;
        }

        /* Team Selector */
        .team-selector-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .team-selector-btn {
            padding: 20px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            color: white;
        }

        .team-selector-btn:hover {
            opacity: 0.8;
            transform: scale(1.05);
        }

        /* Team Colors */
        .team-red { background: #dc2626; }
        .team-blue { background: #2563eb; }
        .team-green { background: #16a34a; }
        .team-purple { background: #9333ea; }
        .team-yellow { background: #ca8a04; }
        .team-pink { background: #db2777; }

        /* Leaderboard */
        .leaderboard {
            background: #1e40af;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .leaderboard-title {
            color: #fbbf24;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .leaderboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .leaderboard-item {
            background: #1e3a8a;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .rank {
            color: #fbbf24;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .team-name-display {
            font-weight: 600;
            margin: 5px 0;
        }

        .score-display {
            color: #fde047;
            font-size: 1.5rem;
            font-weight: bold;
        }

        /* Game Finished Modal */
        .finished-modal .modal-content {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            text-align: center;
        }

        .trophy-icon {
            font-size: 5rem;
            margin-bottom: 20px;
        }

        .finished-title {
            color: #1e3a8a;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 30px;
        }

        .final-rankings {
            background: #1e3a8a;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .ranking-title {
            color: #fbbf24;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .ranking-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .ranking-item.gold {
            background: #fbbf24;
            color: #1e3a8a;
        }

        .ranking-item.silver {
            background: #d1d5db;
            color: #1e3a8a;
        }

        .ranking-item.bronze {
            background: #fb923c;
            color: #1e3a8a;
        }

        .ranking-item.other {
            background: #1e40af;
            color: white;
        }

        .ranking-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .ranking-position {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .ranking-score {
            font-size: 1.5rem;
            font-weight: bold;
        }

        /* Instructions */
        .instructions {
            background: #1e40af;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .instructions-title {
            color: #fbbf24;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .instructions p {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        /* Study Guide */
        .study-guide {
            background: #7e22ce;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .study-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .study-section h4 {
            color: #fde047;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .study-section ul {
            list-style: none;
        }

        .study-section li {
            margin-bottom: 5px;
        }

        /* Progress */
        .progress-section {
            text-align: center;
            margin-top: 30px;
        }

        .progress-box {
            background: #1e40af;
            padding: 20px;
            border-radius: 15px;
            display: inline-block;
        }

        .progress-text {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .progress-bar {
            width: 300px;
            height: 15px;
            background: #1e3a8a;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #fbbf24;
            transition: width 0.3s;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .category-header, .question-cell {
                font-size: 0.9rem;
                padding: 10px;
            }

            .question-cell {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>è­·ç†æ³•å¾‹è²¬ä»»åœ˜é«”ç«¶è³½</h1>
            <h2>å±éšªé‚Šç·£éŠæˆ² - å…­çµ„å°æˆ°</h2>
            <button class="btn btn-reset" onclick="resetGame()">ğŸ”„ é‡æ–°é–‹å§‹éŠæˆ²</button>
        </div>

        <!-- Teams Section -->
        <div class="teams-grid" id="teamsGrid"></div>

        <!-- Game Board -->
        <div class="game-board">
            <div class="categories-grid" id="gameBoard"></div>
        </div>

        <!-- Leaderboard -->
        <div class="leaderboard">
            <div class="leaderboard-title">ğŸ† å³æ™‚æ’è¡Œæ¦œ</div>
            <div class="leaderboard-grid" id="leaderboard"></div>
        </div>

        <!-- Instructions -->
        <div class="instructions">
            <div class="instructions-title">ğŸ‘¥ åœ˜é«”éŠæˆ²è¦å‰‡</div>
            <p>â€¢ <strong>éŠæˆ²æº–å‚™ï¼š</strong>å°‡ç­ç´šåˆ†æˆ6çµ„ï¼Œæ¯çµ„å¯è‡ªè¨‚çµ„å</p>
            <p>â€¢ <strong>é¸é¡Œæ–¹å¼ï¼š</strong>å„çµ„è¼ªæµæˆ–æ¶ç­”é¸æ“‡é¡Œç›®</p>
            <p>â€¢ <strong>å›ç­”æµç¨‹ï¼š</strong>é»æ“Šé¡Œç›® â†’ é¸æ“‡å›ç­”çµ„åˆ¥ â†’ è©²çµ„è¨è«–å¾Œå›ç­” â†’ é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ â†’ è€å¸«åˆ¤å®šå°éŒ¯çµ¦åˆ†</p>
            <p>â€¢ <strong>è¨ˆåˆ†è¦å‰‡ï¼š</strong>ç­”å°åŠ åˆ†ï¼Œç­”éŒ¯æ‰£åˆ†ï¼Œå¯æ‰‹å‹•å¾®èª¿åˆ†æ•¸</p>
            <p>â€¢ <strong>å‹åˆ©æ¢ä»¶ï¼š</strong>å®Œæˆæ‰€æœ‰é¡Œç›®å¾Œåˆ†æ•¸æœ€é«˜çš„çµ„åˆ¥ç²å‹</p>
            <p>â€¢ <strong>æ•™å­¸å»ºè­°ï¼š</strong>é¼“å‹µçµ„å…§è¨è«–ï¼Œç­”éŒ¯å¾Œå¯ç”±è€å¸«è£œå……èªªæ˜</p>
        </div>

        <!-- Study Guide -->
        <div class="study-guide">
            <div class="leaderboard-title">ğŸ“š é‡è¦è€ƒé»æé†’</div>
            <div class="study-grid">
                <div class="study-section">
                    <h4>ğŸ¥ åŸ·æ¥­ç›¸é—œï¼š</h4>
                    <ul>
                        <li>â€¢ æ•™è€ƒç”¨ä¸‰æ­¥é©Ÿå–å¾—åŸ·æ¥­è³‡æ ¼</li>
                        <li>â€¢ æ¯6å¹´ç¹¼çºŒæ•™è‚²æ›´æ–°åŸ·ç…§</li>
                        <li>â€¢ åŸ·æ¥­åœ°é»ä»¥ä¸€è™•ç‚ºé™</li>
                        <li>â€¢ å¿…é ˆåŠ å…¥ç•¶åœ°è­·ç†å¸«å…¬æœƒ</li>
                    </ul>
                </div>
                <div class="study-section">
                    <h4>âš–ï¸ æ³•å¾‹è²¬ä»»ï¼š</h4>
                    <ul>
                        <li>â€¢ åˆ‘äº‹ï¼šæ¥­å‹™éå¤±å‚·å®³/è‡´æ­»ç½ª</li>
                        <li>â€¢ æ°‘äº‹ï¼šå‚µå‹™ä¸å±¥è¡Œã€ä¾µæ¬Šè¡Œç‚º</li>
                        <li>â€¢ è¡Œæ”¿ï¼šåœæ¥­ã€å»¢ç…§ã€ç½°é°</li>
                        <li>â€¢ é€šå ±ç¾©å‹™ï¼š24å°æ™‚å…§é€šå ±</li>
                    </ul>
                </div>
                <div class="study-section">
                    <h4>ğŸ”’ ä¿å¯†ç¾©å‹™ï¼š</h4>
                    <ul>
                        <li>â€¢ ä¸å¾—æ´©æ¼ç—…äººç§˜å¯†</li>
                        <li>â€¢ è­‰ç…§ä¸å¾—ç§Ÿå€Ÿä»–äºº</li>
                        <li>â€¢ è™›å½é™³è¿°çš„æ³•å¾‹å¾Œæœ</li>
                    </ul>
                </div>
                <div class="study-section">
                    <h4>ğŸš¨ ç·Šæ€¥è™•ç†ï¼š</h4>
                    <ul>
                        <li>â€¢ ç—…äººå±æ€¥æ‡‰ç«‹å³è¯çµ¡é†«å¸«</li>
                        <li>â€¢ å¿…è¦æ™‚å¯å…ˆç·Šæ€¥æ•‘è­·</li>
                        <li>â€¢ å®¶æš´ã€å‚³æŸ“ç—…é€šå ±ç¾©å‹™</li>
                        <li>â€¢ å…’å°‘ä¿è­·é€šå ±è²¬ä»»</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Progress -->
        <div class="progress-section">
            <div class="progress-box">
                <div class="progress-text">éŠæˆ²é€²åº¦: <span id="progressText">0 / 25</span> é¡Œ</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Team Selector Modal -->
    <div class="modal" id="teamSelectorModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="question-title">è«‹é¸æ“‡å›ç­”çš„çµ„åˆ¥</h3>
            </div>
            <div class="team-selector-grid" id="teamSelector"></div>
            <div class="modal-buttons">
                <button class="btn btn-cancel" onclick="closeTeamSelector()">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <!-- Question Modal -->
    <div class="modal" id="questionModal">
        <div class="modal-content">
            <div class="modal-header">
                <div id="currentTeamBadge" class="current-team-badge"></div>
                <h3 class="question-title" id="questionTitle"></h3>
                <div class="question-box">
                    <p class="question-text" id="questionText"></p>
                </div>
            </div>

            <div id="answerSection" style="display: none;">
                <div class="answer-box">
                    <div class="answer-label">æ­£ç¢ºç­”æ¡ˆï¼š</div>
                    <p class="answer-text" id="answerText"></p>
                </div>
            </div>

            <div class="modal-buttons">
                <button class="btn btn-show-answer" id="showAnswerBtn" onclick="showAnswer()">é¡¯ç¤ºç­”æ¡ˆ</button>
                <button class="btn btn-skip" id="skipBtn" onclick="skipQuestion()">è·³éé¡Œç›®</button>
                <button class="btn btn-correct" id="correctBtn" style="display: none;" onclick="markCorrect()">âœ“ ç­”å°</button>
                <button class="btn btn-incorrect" id="incorrectBtn" style="display: none;" onclick="markIncorrect()">âœ— ç­”éŒ¯</button>
            </div>
        </div>
    </div>

    <!-- Game Finished Modal -->
    <div class="modal finished-modal" id="finishedModal">
        <div class="modal-content">
            <div class="trophy-icon">ğŸ†</div>
            <h3 class="finished-title">éŠæˆ²çµæŸï¼</h3>
            <div class="final-rankings">
                <div class="ranking-title">ğŸ† æœ€çµ‚æ’è¡Œæ¦œ</div>
                <div id="finalRankings"></div>
            </div>
            <button class="btn btn-reset" onclick="resetGame()">é–‹å§‹æ–°éŠæˆ²</button>
        </div>
    </div>

    <script>
        // Game State
        let teams = [
            { name: 'ç¬¬ä¸€çµ„', score: 0, color: 'team-red' },
            { name: 'ç¬¬äºŒçµ„', score: 0, color: 'team-blue' },
            { name: 'ç¬¬ä¸‰çµ„', score: 0, color: 'team-green' },
            { name: 'ç¬¬å››çµ„', score: 0, color: 'team-purple' },
            { name: 'ç¬¬äº”çµ„', score: 0, color: 'team-yellow' },
            { name: 'ç¬¬å…­çµ„', score: 0, color: 'team-pink' }
        ];

        let answeredQuestions = new Set();
        let currentQuestion = null;
        let currentTeam = 0;

        const categories = {
            'è­·ç†äººå“¡æ¬Šåˆ©': {
                100: {
                    question: 'è­·ç†äººå“¡è¦å–å¾—åŸ·æ¥­è³‡æ ¼éœ€è¦å“ªä¸‰å€‹æ­¥é©Ÿï¼Ÿ',
                    answer: 'æ•™ï¼ˆé¤Šæˆæ•™è‚²-å°ˆæ¥­å­¸æ ¡ç•¢æ¥­ï¼‰ã€è€ƒï¼ˆè€ƒè©¦åŠæ ¼-é ˜æœ‰è­·ç†å¸«è­‰æ›¸ï¼‰ã€ç”¨ï¼ˆç”³è«‹åŸ·æ¥­ç™»è¨˜ä¸¦åŠ å…¥ç•¶åœ°å…¬æœƒï¼‰'
                },
                200: {
                    question: 'è­·ç†äººå“¡åŸ·æ¥­åŸ·ç…§éœ€è¦å¤šä¹…æ›´æ–°ä¸€æ¬¡ï¼Ÿ',
                    answer: 'æ¯6å¹´éœ€æ¥å—ä¸€å®šæ™‚æ•¸ç¹¼çºŒæ•™è‚²ï¼Œå§‹å¾—è¾¦ç†åŸ·æ¥­åŸ·ç…§æ›´æ–°'
                },
                300: {
                    question: 'è­·ç†äººå“¡å¯ä»¥åœ¨å¹¾å€‹åœ°é»åŸ·æ¥­ï¼Ÿ',
                    answer: 'è­·ç†äººå“¡åŸ·æ¥­ç™»è¨˜ä¹‹è™•æ‰€ï¼Œä»¥ä¸€è™•ç‚ºé™'
                },
                400: {
                    question: 'å“ªäº›è­·ç†æ©Ÿæ§‹å¯ä»¥ç”³è«‹é–‹æ¥­æ¬Šï¼Ÿ',
                    answer: 'å…¬ç«‹è­·ç†æ©Ÿæ§‹ã€è²¡åœ˜æ³•äººè­·ç†æ©Ÿæ§‹ã€ç§ç«‹è­·ç†æ©Ÿæ§‹ï¼ˆéœ€ç”±è³‡æ·±è­·ç†äººå“¡ç”³è«‹ï¼‰'
                },
                500: {
                    question: 'ä¸å¾—ç™¼çµ¦åŸ·æ¥­åŸ·ç…§çš„ä¸‰ç¨®æƒ…å½¢æ˜¯ä»€éº¼ï¼Ÿ',
                    answer: '1. ç¶“æ’¤éŠ·æˆ–å»¢æ­¢è­·ç†äººå“¡è­‰æ›¸ 2. ç¶“å»¢æ­¢è­·ç†äººå“¡åŸ·æ¥­åŸ·ç…§æœªæ»¿1å¹´ 3. æœ‰å®¢è§€äº‹å¯¦èªå®šä¸èƒ½åŸ·è¡Œæ¥­å‹™'
                }
            },
            'è­·ç†æ¥­å‹™ç¯„åœ': {
                100: {
                    question: 'è­·ç†æ¥­å‹™ç¯„åœåŒ…æ‹¬å“ªå››é …ï¼Ÿ',
                    answer: '1. å¥åº·å•é¡Œä¹‹è­·ç†è©•ä¼° 2. é é˜²ä¿å¥ä¹‹è­·ç†æªæ–½ 3. è­·ç†æŒ‡å°åŠè«®è©¢ 4. é†«ç™‚è¼”åŠ©è¡Œç‚º'
                },
                200: {
                    question: 'è­·ç†äººå“¡å¯ä»¥ç¨ç«‹æ“ä½œçš„æ¥­å‹™æœ‰å¹¾é …ï¼Ÿ',
                    answer: 'å‰3é …ï¼ˆå¥åº·å•é¡Œè­·ç†è©•ä¼°ã€é é˜²ä¿å¥è­·ç†æªæ–½ã€è­·ç†æŒ‡å°åŠè«®è©¢ï¼‰å¯ç¨ç«‹æ“ä½œ'
                },
                300: {
                    question: 'é†«ç™‚è¼”åŠ©è¡Œç‚ºå¿…é ˆåœ¨ä»€éº¼æ¢ä»¶ä¸‹é€²è¡Œï¼Ÿ',
                    answer: 'å¿…é ˆåœ¨é†«å¸«æŒ‡ç¤ºä¸‹è¡Œä¹‹'
                },
                400: {
                    question: 'åˆ—èˆ‰äº”é …é†«ç™‚è¼”åŠ©è¡Œç‚º',
                    answer: 'è¼”åŠ©ä¾µå…¥æ€§æª¢æŸ¥ã€ä¾µå…¥æ€§æ²»ç™‚ã€å„é …æ‰‹è¡“ã€åˆ†å¨©ã€æ”¾å°„ç·šæª¢æŸ¥æ²»ç™‚ã€åŒ–å­¸æ²»ç™‚ã€æ°§æ°£ç™‚æ³•ã€è—¥ç‰©æŠ•èˆ‡ã€å¿ƒç†è¡Œç‚ºæ²»ç™‚ã€ç”Ÿå‘½å¾µè±¡ç›£æ¸¬ç­‰'
                },
                500: {
                    question: 'ç„¡é†«å›‘æ“…è‡ªç‚ºé†«ç™‚è¡Œç‚ºçš„ä¾‹å¤–æƒ…æ³æ˜¯ä»€éº¼ï¼Ÿ',
                    answer: 'å¿…è¦æ™‚ä¹‹ç·Šæ€¥æ•‘è­·è™•ç†'
                }
            },
            'æ³•å®šç¾©å‹™': {
                100: {
                    question: 'è­·ç†äººå“¡åŸ·è¡Œæ¥­å‹™æ™‚å¿…é ˆè£½ä½œä»€éº¼ï¼Ÿä¿å­˜å¤šä¹…ï¼Ÿ',
                    answer: 'æ‡‰è£½ä½œè­·ç†ç´€éŒ„ï¼Œç”±è©²è­·ç†äººå“¡åŸ·æ¥­ä¹‹æ©Ÿæ§‹ä¿å­˜ä¸ƒå¹´ä»¥ä¸Š'
                },
                200: {
                    question: 'è­·ç†äººå“¡é‡æœ‰ç—…äººå±æ€¥æ™‚æ‡‰å¦‚ä½•è™•ç†ï¼Ÿ',
                    answer: 'æ‡‰ç«‹å³è¯çµ¡é†«å¸«ï¼Œä½†å¿…è¦æ™‚å¾—å…ˆè¡Œçµ¦äºˆç·Šæ€¥æ•‘è­·è™•ç†'
                },
                300: {
                    question: 'è­·ç†äººå“¡åœæ¥­æˆ–æ­‡æ¥­æ™‚é ˆåœ¨å¤šä¹…å…§å ±è«‹å‚™æŸ¥ï¼Ÿ',
                    answer: 'æ‡‰è‡ªäº‹å¯¦ç™¼ç”Ÿä¹‹æ—¥èµ·30æ—¥å…§ï¼Œå ±è«‹åŸç™¼åŸ·æ¥­åŸ·ç…§æ©Ÿé—œå‚™æŸ¥'
                },
                400: {
                    question: 'å®¶åº­æš´åŠ›é˜²æ²»æ³•è¦å®šé†«äº‹äººå“¡ç™¼ç¾ç–‘ä¼¼å®¶åº­æš´åŠ›é ˆåœ¨å¤šä¹…å…§é€šå ±ï¼Ÿ',
                    answer: 'è‡³é²ä¸å¾—é€¾24å°æ™‚é€šå ±ç•¶åœ°ä¸»ç®¡æ©Ÿé—œ'
                },
                500: {
                    question: 'å…’ç«¥åŠå°‘å¹´ç¦åˆ©èˆ‡æ¬Šç›Šä¿éšœæ³•è¦å®šçš„é€šå ±æ™‚é™æ˜¯å¤šä¹…ï¼Ÿ',
                    answer: 'æ‡‰ç«‹å³å‘ç›´è½„å¸‚ã€ç¸£ï¼ˆå¸‚ï¼‰ä¸»ç®¡æ©Ÿé—œé€šå ±ï¼Œè‡³é²ä¸å¾—è¶…é24å°æ™‚'
                }
            },
            'æ³•å¾‹è²¬ä»»': {
                100: {
                    question: 'éå¤±çš„å…©ç¨®é¡å‹æ˜¯ä»€éº¼ï¼Ÿ',
                    answer: 'ç„¡èªè­˜çš„éå¤±å’Œæœ‰èªè­˜çš„éå¤±'
                },
                200: {
                    question: 'æ¥­å‹™éå¤±å‚·å®³ç½ªçš„åˆ‘ç½°æ˜¯ä»€éº¼ï¼Ÿ',
                    answer: 'è™•1å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘ã€æ‹˜å½¹æˆ–10è¬å…ƒä»¥ä¸‹ç½°é‡‘'
                },
                300: {
                    question: 'æ¥­å‹™éå¤±è‡´æ­»ç½ªçš„åˆ‘ç½°æ˜¯ä»€éº¼ï¼Ÿ',
                    answer: 'è™•5å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘ã€æ‹˜å½¹ï¼Œæˆ–50è¬å…ƒä»¥ä¸‹ç½°é‡‘'
                },
                400: {
                    question: 'æ´©æ¼æ¥­å‹™ç§˜å¯†ç½ªçš„åˆ‘ç½°æ˜¯ä»€éº¼ï¼Ÿ',
                    answer: 'è™•1å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘ã€æ‹˜å½¹æˆ–5è¬å…ƒä»¥ä¸‹ç½°é‡‘'
                },
                500: {
                    question: 'è­·ç†éå¤±æ°‘äº‹è³ å„Ÿçš„å…©é …ä¸»è¦åŸå› æ˜¯ä»€éº¼ï¼Ÿ',
                    answer: 'å‚µå‹™ä¸å±¥è¡ŒåŠä¾µæ¬Šè¡Œç‚º'
                }
            },
            'é•æ³•æ‡²è™•': {
                100: {
                    question: 'é•åç”³è«‹åŸ·æ¥­åŸ·ç…§è¦å®šçš„ç½°é°é‡‘é¡æ˜¯å¤šå°‘ï¼Ÿ',
                    answer: 'è™•æ–°è‡ºå¹£6åƒå…ƒä»¥ä¸Š3è¬å…ƒä»¥ä¸‹ç½°é°'
                },
                200: {
                    question: 'å°‡è­‰ç…§ç§Ÿå€Ÿäºˆä¸å…·è­·ç†äººå“¡è³‡æ ¼è€…ä½¿ç”¨çš„æ‡²è™•æ˜¯ä»€éº¼ï¼Ÿ',
                    answer: 'å»¢æ­¢å…¶è­·ç†äººå“¡è­‰æ›¸'
                },
                300: {
                    question: 'é•åå‚³æŸ“ç—…é˜²æ²»æ³•é€šå ±è¦å®šçš„ç½°é°æ˜¯å¤šå°‘ï¼Ÿ',
                    answer: 'è™•æ–°å°å¹£9è¬å…ƒä»¥ä¸Š45è¬å…ƒä»¥ä¸‹ç½°é°'
                },
                400: {
                    question: 'è­·ç†äººå“¡æ–¼æ¥­å‹™ä¸Šæœ‰é•æ³•æˆ–ä¸æ­£ç•¶è¡Œç‚ºçš„æ‡²è™•æ˜¯ä»€éº¼ï¼Ÿ',
                    answer: 'è™•1å€‹æœˆä»¥ä¸Š1å¹´ä»¥ä¸‹ä¹‹åœæ¥­è™•åˆ†ï¼›æƒ…ç¯€é‡å¤§è€…ï¼Œå¾—å»¢æ­¢å…¶åŸ·æ¥­åŸ·ç…§'
                },
                500: {
                    question: 'ç„¡ç…§è­·ç†ï¼ˆå¯†è­·ï¼‰çš„åˆ‘ç½°æ˜¯ä»€éº¼ï¼Ÿ',
                    answer: 'è™•3å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘ï¼Œå¾—ä½µç§‘æ–°å°å¹£3è¬å…ƒä»¥ä¸Š15è¬å…ƒä»¥ä¸‹ç½°é‡‘'
                }
            }
        };

        // Initialize game
        function initGame() {
            renderTeams();
            renderGameBoard();
            updateLeaderboard();
            updateProgress();
        }

        // Render teams
        function renderTeams() {
            const teamsGrid = document.getElementById('teamsGrid');
            teamsGrid.innerHTML = '';

            teams.forEach((team, index) => {
                const teamCard = document.createElement('div');
                teamCard.className = 'team-card';
                teamCard.innerHTML = `
                    <div class="team-name" onclick="editTeamName(${index})">${team.name}</div>
                    <div class="team-score">${team.score}</div>
                    <div class="score-controls">
                        <button class="btn-score btn-plus" onclick="adjustScore(${index}, 100)">+</button>
                        <button class="btn-score btn-minus" onclick="adjustScore(${index}, -100)">-</button>
                    </div>
                `;
                teamsGrid.appendChild(teamCard);
            });
        }

        // Render game board
        function renderGameBoard() {
            const gameBoard = document.getElementById('gameBoard');
            gameBoard.innerHTML = '';

            // Add category headers
            Object.keys(categories).forEach(category => {
                const header = document.createElement('div');
                header.className = 'category-header';
                header.textContent = category;
                gameBoard.appendChild(header);
            });

            // Add question cells
            const points = [100, 200, 300, 400, 500];
            points.forEach(point => {
                Object.keys(categories).forEach(category => {
                    const cell = document.createElement('div');
                    const questionId = `${category}-${point}`;
                    cell.className = 'question-cell';
                    
                    if (answeredQuestions.has(questionId)) {
                        cell.classList.add('answered');
                    }
                    
                    cell.textContent = `$${point}`;
                    cell.onclick = () => handleQuestionClick(category, point);
                    gameBoard.appendChild(cell);
                });
            });
        }

        // Handle question click
        function handleQuestionClick(category, points) {
            const questionId = `${category}-${points}`;
            if (answeredQuestions.has(questionId)) return;

            currentQuestion = {
                category,
                points,
                ...categories[category][points]
            };

            showTeamSelector();
        }

        // Show team selector
        function showTeamSelector() {
            const modal = document.getElementById('teamSelectorModal');
            const selector = document.getElementById('teamSelector');
            selector.innerHTML = '';

            teams.forEach((team, index) => {
                const btn = document.createElement('button');
                btn.className = `team-selector-btn ${team.color}`;
                btn.innerHTML = `
                    <div>${team.name}</div>
                    <div style="font-size: 0.9rem; margin-top: 5px;">ç›®å‰åˆ†æ•¸: ${team.score}</div>
                `;
                btn.onclick = () => selectTeam(index);
                selector.appendChild(btn);
            });

            modal.classList.add('show');
        }

        // Close team selector
        function closeTeamSelector() {
            document.getElementById('teamSelectorModal').classList.remove('show');
            currentQuestion = null;
        }

        // Select team
        function selectTeam(teamIndex) {
            currentTeam = teamIndex;
            document.getElementById('teamSelectorModal').classList.remove('show');
            showQuestion();
        }

        // Show question
        function showQuestion() {
            const modal = document.getElementById('questionModal');
            const badge = document.getElementById('currentTeamBadge');
            badge.className = `current-team-badge ${teams[currentTeam].color}`;
            badge.textContent = `${teams[currentTeam].name} å›ç­”ä¸­`;

            document.getElementById('questionTitle').textContent = 
                `${currentQuestion.category} - $${currentQuestion.points}`;
            document.getElementById('questionText').textContent = currentQuestion.question;
            document.getElementById('answerText').textContent = currentQuestion.answer;

            document.getElementById('answerSection').style.display = 'none';
            document.getElementById('showAnswerBtn').style.display = 'inline-block';
            document.getElementById('skipBtn').style.display = 'inline-block';
            document.getElementById('correctBtn').style.display = 'none';
            document.getElementById('incorrectBtn').style.display = 'none';

            modal.classList.add('show');
        }

        // Show answer
        function showAnswer() {
            document.getElementById('answerSection').style.display = 'block';
            document.getElementById('showAnswerBtn').style.display = 'none';
            document.getElementById('skipBtn').style.display = 'none';
            document.getElementById('correctBtn').style.display = 'inline-block';
            document.getElementById('incorrectBtn').style.display = 'inline-block';

            const correctBtn = document.getElementById('correctBtn');
            const incorrectBtn = document.getElementById('incorrectBtn');
            correctBtn.textContent = `âœ“ ${teams[currentTeam].name} ç­”å° (+$${currentQuestion.points})`;
            incorrectBtn.textContent = `âœ— ${teams[currentTeam].name} ç­”éŒ¯ (-$${currentQuestion.points})`;
        }

        // Skip question
        function skipQuestion() {
            document.getElementById('questionModal').classList.remove('show');
            currentQuestion = null;
        }

        // Mark correct
        function markCorrect() {
            const questionId = `${currentQuestion.category}-${currentQuestion.points}`;
            answeredQuestions.add(questionId);
            teams[currentTeam].score += currentQuestion.points;

            closeQuestionModal();
            checkGameFinished();
        }

        // Mark incorrect
        function markIncorrect() {
            const questionId = `${currentQuestion.category}-${currentQuestion.points}`;
            answeredQuestions.add(questionId);
            teams[currentTeam].score = Math.max(0, teams[currentTeam].score - currentQuestion.points);

            closeQuestionModal();
            checkGameFinished();
        }

        // Close question modal
        function closeQuestionModal() {
            document.getElementById('questionModal').classList.remove('show');
            currentQuestion = null;
            renderGameBoard();
            renderTeams();
            updateLeaderboard();
            updateProgress();
        }

        // Check if game finished
        function checkGameFinished() {
            const totalQuestions = Object.keys(categories).length * 5;
            if (answeredQuestions.size === totalQuestions) {
                showGameFinished();
            }
        }

        // Show game finished
        function showGameFinished() {
            const modal = document.getElementById('finishedModal');
            const rankings = document.getElementById('finalRankings');
            
            const sortedTeams = [...teams].sort((a, b) => b.score - a.score);
            rankings.innerHTML = '';

            sortedTeams.forEach((team, index) => {
                const item = document.createElement('div');
                item.className = 'ranking-item';
                
                if (index === 0) item.classList.add('gold');
                else if (index === 1) item.classList.add('silver');
                else if (index === 2) item.classList.add('bronze');
                else item.classList.add('other');

                const emoji = index === 0 ? 'ğŸ¥‡' : index === 1 ? 'ğŸ¥ˆ' : index === 2 ? 'ğŸ¥‰' : `${index + 1}.`;
                
                item.innerHTML = `
                    <div class="ranking-left">
                        <div class="ranking-position">${emoji}</div>
                        <div style="font-weight: bold;">${team.name}</div>
                    </div>
                    <div class="ranking-score">${team.score}</div>
                `;
                rankings.appendChild(item);
            });

            modal.classList.add('show');
        }

        // Update leaderboard
        function updateLeaderboard() {
            const leaderboard = document.getElementById('leaderboard');
            const sortedTeams = [...teams].sort((a, b) => b.score - a.score);
            
            leaderboard.innerHTML = '';
            sortedTeams.forEach((team, index) => {
                const item = document.createElement('div');
                item.className = 'leaderboard-item';
                item.innerHTML = `
                    <div class="rank">#${index + 1}</div>
                    <div class="team-name-display">${team.name}</div>
                    <div class="score-display">${team.score}</div>
                `;
                leaderboard.appendChild(item);
            });
        }

        // Update progress
        function updateProgress() {
            const total = Object.keys(categories).length * 5;
            const current = answeredQuestions.size;
            document.getElementById('progressText').textContent = `${current} / ${total}`;
            document.getElementById('progressFill').style.width = `${(current / total) * 100}%`;
        }

        // Edit team name
        function editTeamName(index) {
            const newName = prompt('è«‹è¼¸å…¥æ–°çš„çµ„åï¼š', teams[index].name);
            if (newName && newName.trim()) {
                teams[index].name = newName.trim();
                renderTeams();
                updateLeaderboard();
            }
        }

        // Adjust score
        function adjustScore(index, amount) {
            teams[index].score = Math.max(0, teams[index].score + amount);
            renderTeams();
            updateLeaderboard();
        }

        // Reset game
        function resetGame() {
            if (confirm('ç¢ºå®šè¦é‡æ–°é–‹å§‹éŠæˆ²å—ï¼Ÿæ‰€æœ‰åˆ†æ•¸å’Œé€²åº¦å°‡è¢«æ¸…é™¤ã€‚')) {
                teams.forEach(team => team.score = 0);
                answeredQuestions.clear();
                currentQuestion = null;
                document.getElementById('finishedModal').classList.remove('show');
                initGame();
            }
        }

        // Initialize on load
        initGame();
    </script>
</body>
</html>